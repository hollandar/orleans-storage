@page "/{**PageName}"
@using Webefinity.Module.Blocks.Services

<BlockAuthorizeView Policy="SecurityPolicyVariants.AuthorPolicy">
    <Authorized>
        <BlocksPageEditor PageName="@GetPageName()" />
    </Authorized>
    <NotAuthorized>
        <BlocksPageByName_ReadOnly PageName="@GetPageName()" />
    </NotAuthorized>
</BlockAuthorizeView>

@code {
    [Parameter] public string PageName { get; set; } = default!;

    protected string GetPageName() => PageName?.ToLowerInvariant() ?? "home";
}